!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=321)}({321:function(e,t,i){"use strict";i.r(t);new class{constructor(e=!1){this.gallery=document.querySelector(".gallery"),this.modal={root:document.querySelector(".modal"),content:document.querySelector(".modal__con"),img:document.querySelector(".modal__con__img")},this.modalUI={left:this.modal.root.querySelector(".modal__control--left"),right:this.modal.root.querySelector(".modal__control--right"),close:this.modal.root.querySelector(".modal__close")},this.elements=void 0,this.imageArray=e,this.currentIndex=0,this.init()}setImage(e){const t=e.getAttribute("data-modal"),i=e.getAttribute("data-alt");this.modal.img.setAttribute("src",t),this.modal.img.setAttribute("alt",i),this.showLoading(),this.modal.img.onload=()=>{this.hideLoading(),this.setMaxImageHeight(this.modal.img)},this.modal.img.onerror=()=>this.hideLoading()}unsetImage(){this.modal.img.setAttribute("src","")}openModal(e){const t=e.currentTarget;this.setImage(t);const i=t.getAttribute("data-index");this.currentIndex=i,requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.modal.root.classList.add("modal--active")})})}closeModal(){this.modal.root.classList.remove("modal--active");const e=()=>{this.unsetImage(),this.modal.root.removeEventListener("transitionend",e)};this.modal.root.addEventListener("transitionend",e)}renderGalleryMarkup(){const e="https://res.cloudinary.com/drgquplia/image/upload/",t={small:"c_fill,g_center,h_220,w_220/",large:"w_900"},i="/v1615569548/hooker-and-eight/gallery/";let n="";this.imageArray.forEach((o,a)=>{const r=this.getImageAlt(o);console.log(r);const s=`\n            <div class="gallery__box" data-modal="${e}${t.large}${i}${o}" data-index="${a}" data-alt="${r}">\n                <figure>\n                    <img class="gallery__img" alt="${r}" src="${e}${t.small}${i}${o}" />\n                </figure>\n            </div>`;n+=s}),console.log(n),this.gallery.innerHTML=n}getImageAlt(e){return e.split("-").join(" ")}handleLeft(){this.currentIndex>0?this.currentIndex--:this.currentIndex=this.maxIndex;const e=this.getImageByIndex(this.currentIndex);this.setImage(e)}handleRight(){this.currentIndex<this.maxIndex?this.currentIndex++:this.currentIndex=0;const e=this.getImageByIndex(this.currentIndex);this.setImage(e)}getImageByIndex(e){return this.gallery.querySelector(`[data-index="${e}"`)}showLoading(){this.modal.root.classList.add("modal--loading")}hideLoading(){this.modal.root.classList.remove("modal--loading")}setMaxImageHeight(e){e.style.maxHeight=null;const t=this.modal.content.offsetHeight;e.style.maxHeight=t+"px"}init(){this.renderGalleryMarkup(),this.elements=document.querySelectorAll(".gallery__box"),this.elements.forEach(e=>{e.addEventListener("click",this.openModal.bind(this))}),this.maxIndex=this.elements.length-1,this.modalUI.left.addEventListener("click",this.handleLeft.bind(this)),this.modalUI.right.addEventListener("click",this.handleRight.bind(this)),this.modalUI.close.addEventListener("click",this.closeModal.bind(this))}}(["happy-patrons-at hooker-and-eight","dan-prepping-pizza","sprinkling-cheese","steve-on-the-pizza-peel","pizza-ready-for-the-oven","pizza-on-pizza-peel","two-takeaway-pizzas","calzone-on-plate","meaty-pizza","pizza-transferring-to-plate","steve-prepping-calzone","adam-enjoying-cleaning","happy-dan","fully-loaded-calzone-ready-to-fold","hooker-and-eight-front-window","hooker-and-eight-front-at-night","prepping-mushroom-pizza","pizza-wheel-cutting","finishing-with-balsamic-glaze","hooker-and-eight-owners-and-staff","this-is-normal","hooker-and-eight-mirror","steve-weighing-dough","rugby-shirt-decoration","dan-getting-started-on-a-pizza","dan-showcasing-handmade-doughs","shaping-the-dough","vegetable-ingredients","hooker-and-eight-restaurant-interior"])}});
//# sourceMappingURL=gallery.bundle.49ff69dd8f502c1922f1.js.map