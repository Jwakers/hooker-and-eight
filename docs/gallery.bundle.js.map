{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/gallery-index.js","webpack:///./src/scripts/modules/Gallery.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","imageArray","this","gallery","document","querySelector","modal","root","content","img","modalUI","left","right","close","elements","undefined","currentIndex","init","el","dataSrc","getAttribute","alt","setAttribute","showLoading","onload","hideLoading","setMaxImageHeight","onerror","event","currentTarget","setImage","index","requestAnimationFrame","classList","add","remove","callback","unsetImage","removeEventListener","addEventListener","paths","small","large","totalMarkup","forEach","getImageAlt","console","log","markup","innerHTML","imageName","split","join","maxIndex","image","getImageByIndex","style","maxHeight","height","offsetHeight","renderGalleryMarkup","querySelectorAll","openModal","length","handleLeft","handleRight","closeModal"],"mappings":"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","file":"gallery.bundle.js?v=c3907c3ff23dcb077531","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 321);\n","import Gallery from './modules/Gallery';\n\nconst galleryImages = [\n    'happy-patrons-at hooker-and-eight.jpg',\n    'dan-prepping-pizza.jpg',\n    'sprinkling-cheese.jpg',\n    'steve-on-the-pizza-peel.jpg',\n    'pizza-ready-for-the-oven.jpg',\n    'pizza-on-pizza-peel.jpg',\n    'two-takeaway-pizzas.jpg',\n    'calzone-on-plate.jpg',\n    'meaty-pizza.jpg',\n    'pizza-transferring-to-plate.jpg',\n    'steve-prepping-calzone.jpg',\n    'adam-enjoying-cleaning.jpg',\n    'happy-dan.jpg',\n    'fully-loaded-calzone-ready-to-fold.jpg',\n    'hooker-and-eight-front-window.jpg',\n    'hooker-and-eight-front-at-night.jpg',\n    'prepping-mushroom-pizza.jpg',\n    'pizza-wheel-cutting.jpg',\n    'finishing-with-balsamic-glaze.jpg',\n    'hooker-and-eight-owners-and-staff.jpg',\n    'this-is-normal.jpg',\n    'hooker-and-eight-mirror.jpg',\n    'steve-weighing-dough.jpg',\n    'rugby-shirt-decoration.jpg',\n    'dan-getting-started-on-a-pizza.jpg',\n    'dan-showcasing-handmade-doughs.jpg',\n    'shaping-the-dough.jpg',\n    'vegetable-ingredients.jpg',\n    'hooker-and-eight-restaurant-interior.jpg',\n    'single-meaty-pizza-for-takeaway.jpg',\n    'large-margarita-pizza.jpg',\n    'three-pizzas-for-takeaway.jpg',\n    'two-pizzas-for-takeaway.jpg',\n    'pizzas-in-takeaway-boxes.jpg',\n    'meats-and-vegetable-pizza.jpg',\n    'meaty-pizzas-for-takeaway.jpg',\n    'ready-for-tomato-base.jpg',\n]\n\nnew Gallery(galleryImages);\n","export default class Gallery {\n    constructor(imageArray = false) {\n        this.gallery = document.querySelector(\".gallery\");\n        this.modal = {\n            root: document.querySelector(\".modal\"),\n            content: document.querySelector(\".modal__con\"),\n            img: document.querySelector(\".modal__con__img\"),\n        };\n        this.modalUI = {\n            left: this.modal.root.querySelector(\".modal__control--left\"),\n            right: this.modal.root.querySelector(\".modal__control--right\"),\n            close: this.modal.root.querySelector(\".modal__close\"),\n        };\n        this.elements = undefined;\n        this.imageArray = imageArray;\n        this.currentIndex = 0;\n        this.init();\n    }\n\n    setImage(el) {\n        const dataSrc = el.getAttribute(\"data-modal\");\n        const alt = el.getAttribute(\"data-alt\");\n        this.modal.img.setAttribute(\"src\", dataSrc);\n        this.modal.img.setAttribute(\"alt\", alt);\n\n        this.showLoading();\n        this.modal.img.onload = () => {\n            this.hideLoading();\n            this.setMaxImageHeight(this.modal.img);\n        };\n        this.modal.img.onerror = () => this.hideLoading();\n    }\n\n    unsetImage() {\n        this.modal.img.setAttribute(\"src\", \"\");\n    }\n\n    openModal(event) {\n        const el = event.currentTarget;\n\n        this.setImage(el);\n\n        const index = el.getAttribute(\"data-index\");\n        this.currentIndex = index;\n\n        requestAnimationFrame(() => {\n            requestAnimationFrame(() => {\n                this.modal.root.classList.add(\"modal--active\");\n            });\n        });\n    }\n\n    closeModal() {\n        this.modal.root.classList.remove(\"modal--active\");\n        const callback = () => {\n            this.unsetImage();\n            this.modal.root.removeEventListener(\"transitionend\", callback);\n        };\n        this.modal.root.addEventListener(\"transitionend\", callback);\n    }\n\n    renderGalleryMarkup() {\n        const paths = {\n            root: \"https://res.cloudinary.com/drgquplia/image/upload/\",\n            mods: {\n                small: \"c_fill,g_center,h_220,w_220/\",\n                large: \"w_900\",\n            },\n            path: \"/v1615569548/hooker-and-eight/gallery/\",\n        };\n        let totalMarkup = \"\";\n        this.imageArray.forEach((img, i) => {\n            const alt = this.getImageAlt(img);\n            console.log(alt);\n            const markup = `\n            <div class=\"gallery__box\" data-modal=\"${paths.root}${paths.mods.large}${paths.path}${img}\" data-index=\"${i}\" data-alt=\"${alt}\">\n                <figure>\n                    <img class=\"gallery__img\" alt=\"${alt}\" src=\"${paths.root}${paths.mods.small}${paths.path}${img}\" />\n                </figure>\n            </div>`;\n            totalMarkup += markup;\n        });\n        console.log(totalMarkup);\n        this.gallery.innerHTML = totalMarkup;\n    }\n\n    getImageAlt(imageName) {\n        return imageName.split(\"-\").join(\" \");\n    }\n\n    handleLeft() {\n        if (this.currentIndex > 0) this.currentIndex--;\n        else this.currentIndex = this.maxIndex;\n        const image = this.getImageByIndex(this.currentIndex);\n\n        this.setImage(image);\n    }\n\n    handleRight() {\n        if (this.currentIndex < this.maxIndex) this.currentIndex++;\n        else this.currentIndex = 0;\n        const image = this.getImageByIndex(this.currentIndex);\n\n        this.setImage(image);\n    }\n\n    getImageByIndex(index) {\n        return this.gallery.querySelector(`[data-index=\"${index}\"`);\n    }\n\n    showLoading() {\n        this.modal.root.classList.add(\"modal--loading\");\n    }\n\n    hideLoading() {\n        this.modal.root.classList.remove(\"modal--loading\");\n    }\n\n    setMaxImageHeight(image) {\n        image.style.maxHeight = null;\n        const height = this.modal.content.offsetHeight;\n        image.style.maxHeight = `${height}px`;\n    }\n\n    init() {\n        this.renderGalleryMarkup();\n        this.elements = document.querySelectorAll(\".gallery__box\");\n        this.elements.forEach((el) => {\n            el.addEventListener(\"click\", this.openModal.bind(this));\n        });\n        // Set max index\n        this.maxIndex = this.elements.length - 1;\n        this.modalUI.left.addEventListener(\"click\", this.handleLeft.bind(this));\n        this.modalUI.right.addEventListener(\n            \"click\",\n            this.handleRight.bind(this)\n        );\n        this.modalUI.close.addEventListener(\n            \"click\",\n            this.closeModal.bind(this)\n        );\n    }\n}\n"],"sourceRoot":""}